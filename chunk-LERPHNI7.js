import{a as A}from"./chunk-JW7CNLKT.js";import{a as O}from"./chunk-X5KIGRJI.js";import{a as B}from"./chunk-62E7ZVO7.js";import{b as F}from"./chunk-ZNR7NDAU.js";import{a as H}from"./chunk-CL6Z4AWC.js";import{b as v}from"./chunk-3V2DYMXD.js";import{c as $}from"./chunk-NRHGNZDW.js";import{b as U,j as V}from"./chunk-YZY77BDX.js";import"./chunk-X23G3QIH.js";import{Ab as c,Bb as u,Db as x,Ia as E,Jb as j,Ma as r,Na as l,Nb as m,Ob as d,S,X as h,ba as _,bb as w,db as b,fb as C,ib as I,jb as T,ka as k,kb as R,la as y,lb as P,mb as a,nb as o,ob as g,pb as L,qb as M,rb as f}from"./chunk-2ZTQTHCR.js";var D=(()=>{let t=class t{constructor(e,i){this.http=e,this.deviceMode=i,this.SERVER_URL=H.baseUrl}get(){return this.http.get(`${this.SERVER_URL}client/plans`,{headers:{withLoader:"true"}})}subscripe(e){return this.http.post(`${this.SERVER_URL}client/subscribe`,e,{headers:{withLoader:"true"}})}mySubscription(){return this.http.get(`${this.SERVER_URL}client/subscriptions`,{headers:{withLoader:"true"}})}};t.\u0275fac=function(i){return new(i||t)(h(U),h(O))},t.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function G(n,t){n&1&&(a(0,"span",11),c(1,"Popular"),o())}function J(n,t){if(n&1){let s=L();a(0,"div",9)(1,"div",10),w(2,G,2,0,"span",11),a(3,"div",12)(4,"div",13)(5,"h2",14)(6,"strong"),c(7),o()()()(),a(8,"div",12)(9,"div",13)(10,"h2",15),c(11),m(12,"translate"),o(),a(13,"p"),c(14),m(15,"translate"),o()()(),a(16,"div",16)(17,"div",13),g(18,"p",17),o()(),a(19,"div",12)(20,"a",18),M("click",function(){let i=k(s).$implicit,p=f();return y(p.subscribe(i))}),c(21),m(22,"translate"),o()()()()}if(n&2){let s=t.$implicit,e=f();r(2),I(2,e.isSpecial()==s.id?2:-1),r(5),u(s.name),r(4),x(" ",s.price," ",d(12,10,"general.currency"),""),r(3),x("",s.duration," / ",d(15,12,"general.month"),""),r(4),b("innerHTML",s.description,E),r(2),C("special-btn",e.isSpecial()==s.id),r(),u(d(22,14,"button.buyNow"))}}var ne=(()=>{let t=class t{constructor(e,i,p,z){this.planApiService=e,this.toaster=i,this.router=p,this.user=z,this.navTree=[{label:"page.home",route:v.home},{label:"page.packages",route:null}]}ngOnInit(){this.planApiService.get().subscribe(e=>this.plans=e.data)}isSpecial(){return this.plans?.sort((e,i)=>e.max_num_events-i.max_num_events)[0].id}subscribe(e){return this.user.isLoggedIn()?this.planApiService.subscripe({plan_id:e.id}).subscribe(i=>{this.toaster.success("",i.msg),setTimeout(()=>{window.open(i.data.PaymentUrl)},1e3)}):this.router.navigate([v.auth.login],{queryParams:{returnUrl:v.package}})}};t.\u0275fac=function(i){return new(i||t)(l(D),l(F),l(V),l(B))},t.\u0275cmp=_({type:t,selectors:[["app-package"]],standalone:!0,features:[j],decls:14,vars:4,consts:[[1,"my-2","container"],[3,"navTree"],[1,"packages"],[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"lc-block","mb-4"],["editable","inline",1,"display-3","mb-0"],[1,"row","mt-4"],[1,"col-md-4","mb-3"],[1,"shadow","text-center","py-4","package","h-100"],[1,"badge","bg-warning","py-2","px-3"],[1,"lc-block"],["editable","rich"],[1,"fs-4"],[1,"fs-3"],[1,"lc-block","px-4","mb-4"],[3,"innerHTML"],["role","button",1,"btn","btn-outline-primary",3,"click"]],template:function(i,p){i&1&&(a(0,"div",0),g(1,"app-nav-tree",1),o(),a(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7)(8,"b"),c(9),m(10,"translate"),o()()()()(),a(11,"div",8),R(12,J,23,16,"div",9,T),o()()()),i&2&&(r(),b("navTree",p.navTree),r(8),u(d(10,2,"package.pricing")),r(3),P(p.plans))},dependencies:[$,A],styles:[".package[_ngcontent-%COMP%]{position:relative}.package[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{z-index:9;position:absolute;top:0;right:0}"]});let n=t;return n})();export{ne as PackageComponent};
