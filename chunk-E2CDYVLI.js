import{a as z}from"./chunk-JW7CNLKT.js";import{a as $}from"./chunk-WSPAIXBF.js";import"./chunk-BLEYH5IH.js";import{b as x}from"./chunk-QOGXEKQL.js";import"./chunk-NRHGNZDW.js";import{h as D,j,q as V}from"./chunk-YZY77BDX.js";import{n as R}from"./chunk-X23G3QIH.js";import{Ab as C,Bb as B,Jb as P,Ma as p,Na as k,a as l,b as u,ba as d,db as h,fb as b,jb as v,ka as E,kb as _,la as w,lb as f,mb as r,nb as s,ob as y,pb as F,qb as g,ra as I,rb as M}from"./chunk-2ZTQTHCR.js";function O(a,n){if(a&1){let c=F();r(0,"li",6),g("click",function(){let t=E(c).$implicit,i=M();return w(i.change(t))}),r(1,"a",7),C(2),s()()}if(a&2){let c=n.$implicit,e=M();p(),b("active",e.meta.current_page==c),p(),B(c)}}var A=(()=>{let n=class n{constructor(){this.onPageChange=new I,this.pages=(e=4)=>{let t=Math.ceil(this.meta.total/this.meta.per_page),i=Math.ceil(t/2),o=Math.max(this.meta.current_page-Math.floor(e/2),1),m=Math.min(o+e,t);m-o<e&&(o=Math.max(m-e,1));let S=[];for(let T=o;T<=m;T++)S.push(T);return S},this.prev=()=>{this.meta.current_page!=1&&this.onPageChange.emit(u(l({},this.meta),{current_page:this.meta.current_page-1}))},this.next=()=>{this.meta.current_page!=this.meta.last_page&&this.onPageChange.emit(u(l({},this.meta),{current_page:this.meta.current_page+1}))}}change(e){this.onPageChange.emit(u(l({},this.meta),{current_page:e}))}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d({type:n,selectors:[["app-pagination"]],inputs:{meta:"meta"},outputs:{onPageChange:"onPageChange"},standalone:!0,features:[P],decls:12,vars:0,consts:[["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Next",1,"page-link",3,"click"],[1,"page-item",3,"click"],[1,"page-link"]],template:function(t,i){t&1&&(r(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),g("click",function(){return i.prev()}),r(4,"span",4),C(5,"\xAB"),s()()(),_(6,O,3,3,"li",2,v),r(8,"li",2)(9,"a",5),g("click",function(){return i.next()}),r(10,"span",4),C(11,"\xBB"),s()()()()()),t&2&&(p(6),f(i.pages()))},dependencies:[R],styles:[".page-item[_ngcontent-%COMP%]{cursor:pointer}"]});let a=n;return a})();function q(a,n){if(a&1&&(r(0,"div",4),y(1,"event-card",7),s()),a&2){let c=n.$implicit;p(),h("event",c)}}var ne=(()=>{let n=class n{constructor(e,t){this.route=e,this.router=t,this.appRoutes=x,this.navTree=[{label:"page.home",route:x.home},{label:"page.events",route:null}],this.initialize=i=>{let{events:o,pagination:m}=i.data;this.events=o,this.pagination=m},e.data.subscribe(i=>this.initialize(i))}onPageChange(e){let t=this.route.snapshot.params;this.router.navigate([x.events.index,u(l({},t),{page:e.current_page})])}};n.\u0275fac=function(t){return new(t||n)(k(D),k(j))},n.\u0275cmp=d({type:n,selectors:[["app-events-index"]],standalone:!0,features:[P],decls:8,vars:2,consts:[[1,"categories","events-page","mt-3"],[1,"container"],[3,"navTree"],[1,"row","events"],[1,"col-md-4"],[1,"row","mt-5"],[3,"onPageChange","meta"],[3,"event"]],template:function(t,i){t&1&&(r(0,"section",0)(1,"div",1),y(2,"app-nav-tree",2),r(3,"div",3),_(4,q,2,1,"div",4,v),s(),r(6,"div",5)(7,"app-pagination",6),g("onPageChange",function(m){return i.onPageChange(m)}),s()()()()),t&2&&(p(2),h("navTree",i.navTree),p(2),f(i.events),p(3),h("meta",i.pagination))},dependencies:[$,V,A,z]});let a=n;return a})();export{ne as EventsIndexComponent};
